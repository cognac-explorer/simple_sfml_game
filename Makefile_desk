CXX       := g++
OUTPUT    := game
CXX_FLAGS := -O3 -std=c++17 -Wall -Wno-missing-braces
INCLUDES  := -I./src
LDFLAGS   := -O3 -lraylib -lGL -lm -lpthread -ldl -lrt -lX11

SRC_FILES := $(wildcard src/*.cpp)

OBJ_FILES := $(SRC_FILES:.cpp=.o)

all: $(OUTPUT)

$(OUTPUT): $(OBJ_FILES) Makefile 
	$(CXX) $(OBJ_FILES) $(LDFLAGS) -o ./bin/$@

.cpp.o:
	$(CXX) -c $(CXX_FLAGS) $(INCLUDES) $< -o $@

clean:
	rm -f $(OBJ_FILES) ./bin/$(OUTPUT)

run: $(OUTPUT)
	cd bin && ./$(OUTPUT)
